<!DOCTYPE html>
<html lang="zh">

    <head>
        <title>青岛西海岸中学</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="author" content="">
        <meta name="description" content="">
        <link rel="shortcut icon" href="logo.png">
        <link rel="stylesheet" type="text/css" href="fa-all.min.css">
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>

    <body>
        <br>

        <main>
            <div class="container">
                <div class="row g-4">
                    <div class="col-lg-3">
                        <nav class="navbar navbar-expand-lg mx-0">
                            <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasSideNavbar">
                                <div class="offcanvas-header">
                                    <button type="button" class="btn-close text-reset ms-auto" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                                </div>
                                <div class="offcanvas-body d-block px-2 px-lg-0">
                                    <div class="card overflow-hidden">
                                    <div class="h-50px" style="background-image:url(bg.jpg); background-position: center; background-size: cover; background-repeat: no-repeat;"></div>
                                    <div class="card-body pt-0">
                                        <div class="text-center">
                                            <div class="avatar avatar-lg mt-n5 mb-3">
                                                <a href="#"><img class="avatar-img rounded border border-white border-3" src="logo.png" alt=""></a>
                                            </div>
                                            <h5 class="mb-0"><a href="#">青岛西海岸中学</a></h5>
                                            <small>The Middle School of Qingdao West Coast New Area</small>
                                            <hr>
                                            <div class="gap-2 gap-xl-3 justify-content-center">
                                                <h6 class="mb-0">- 致广大 尽精微 -</h6>
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                </div>
                                <p class="small text-center mt-1">本站与青岛西海岸中学不具有从属关系</p>
                                <p class="small text-center mt-1">©2024 <a class="text-body" href="#"> QDXHAZX.XUSHUO.RUN </a> </p>
                            </div>
                        </nav>
                    </div>
                
                    <div class="col-md-8 col-lg-6 vstack gap-4">
                        <div class="card">
                            <div class="card-header">
                                <div class="d-flex align-items-center justify-content-between">
                                    <div class="d-flex align-items-center">
                                        <div class="avatar me-2">
                                            <a href="#"><img class="avatar-img rounded-circle" src="logo.png" alt=""></a>
                                        </div>
                                        <div>
                                            <h6 class="card-title mb-0"><a href="#">青岛西海岸中学</a></h6>
                                            <a href="#" class="mb-0 text-body">置顶通知</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <p class="mb-0" id="notify_text">...</p>
                            </div>
                            <div class="card-footer border-0 d-flex justify-content-between align-items-center">
                                <p class="mb-0" id="notify_date">...</p>
                                <a class="btn btn-primary-soft btn-sm" href="#" id="notify_href">查看</a>
                            </div>
                        </div>

                        <div class="tab-pane fade show active">
                            <div class="row g-4" id="cards">

                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </main>

        <script>

            card_data = function(username, email, year, month, day, tags, text, href) {
                let obj = {};
                obj.username = username;
                obj.email = email;
                obj.year = year;
                obj.month = month;
                obj.day = day;
                obj.tags = tags;
                obj.text = text;
                obj.href = href;
                return obj;
            }

            notify = {
                'text': '文本',
                'date': '日期',
                'href': '#'
            }

            tags = {
                0: '#青岛西海岸中学#',
                1: '#西中#'
            };

            cards_data = [
                card_data('示例用户', null, '2024', '01', '01', [0, 1], '示例文本', '#'),
                card_data('示例用户', null, '2024', '12', '31', [0], '示例文本', '#')
            ]

            window.onload = function () {
                document.getElementById('notify_text').innerText = notify.text;
                document.getElementById('notify_date').innerText = notify.date;
                document.getElementById('notify_href').setAttribute('href', notify.href);

                cards_data.forEach(
                    (item) => {
                        let avatar = `avatars/avatar${Math.floor(Math.random()*6+1)}.png`;

                        let date = item.year + '-' + item.month + '-' + item.day;

                        let tags_string = '';

                        item.tags.forEach(
                            (item) => {
                                tags_string += `<a href="#"> ${tags[item]} </a> `
                            }
                        );

                        let email = item.email !== null ? "mailto: " + item.email : "javascript: alert('不公开邮箱')";

                        document.getElementById('cards').insertAdjacentHTML('beforeend', `<div class="col-sm-6 col-lg-4">
                                    <div class="card">
                                        <div class="card-header border-0 pb-0">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div class="d-flex align-items-center">
                                                    <div class="avatar avatar-story me-2">
                                                        <a href="#"><img class="avatar-img rounded-circle" src="${avatar}" alt=""></a>
                                                    </div>
                                                    <div>
                                                        <div class="nav nav-divider">
                                                            <h6 class="nav-item card-title mb-0"><a href="#"> ${item.username} </a></h6>
                                                        </div>
                                                        <span class="card-title small text-body">${date}</span>
                                                    </div>
                                                </div>
                                                <div>
                                                    <a href="${email}" class="text-secondary btn btn-secondary-soft-hover py-1 px-2">
                                                        <i class="fa-solid fa-reply"></i>
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <p>
                                                ${tags_string}
                                                <br>
                                                ${item.text}
                                                </p>
                                            <div class="d-grid mt-3">
                                                <a class="btn btn-sm btn-primary-soft" href="${item.href}">查看</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>`, 'text/html');
                    }
                )
            }
        </script>
    
    
        <script src="bootstrap.bundle.min.js"></script>
    </body>

</html>
